<project name = "M4" default = "all" > 
	<!--
		1. init    - Set up all your properties.  It is not necessary
                         for this to be a cross-platform file. 
	-->
	<target name = "init">
		<property name = "src" location = "./src" />
		<property name = "build" location = "./build" />
		<property name = "apidoc" location = "./apidoc" />
		<property name = "lib" location = "./lib" />
	</target>
	
	<!--
		2. prepare - Make all the required directories.
	-->
	<target name = "prepare" depends = "init" >
		<mkdir dir = "${src}" />
		<mkdir dir = "${build}" />
		<mkdir dir = "${apidoc}" />
		<mkdir dir = "${lib}" />
	</target>
	
	<!--
		3. compile - This will compile all java classes in the 'src'
                         directory tree to the 'build' directory. 
	-->
	<target name = "compile" depends = "prepare" >
		<javac srcdir = "${src}" destdir = "${build}">
			<include name = "*.java" />
		</javac>
	</target>
	
	<!--
		4. javadoc - This will generate the javadoc documentation for
                         all java classes in the 'src' directory and will be
                         stored in the 'apidoc' directory.
	-->
	<target name = "javadoc" depends = "prepare" >
		<javadoc sourcepath = "${src}" destdir = "${apidoc}" >
			<include name = "*.java" />
		</javadoc>
	</target>
	
	<!--
		5. jar     - This will package the compiled classes (excluding the 
                         resources.jar) as a JAR titled "AntLabRun.jar".
                         The JAR must use a mainfest and should
                         only include the compiled classes and the manifest.
                         Your manifest file may be manually created or generated
                         automatically by your ant task.
	-->
	<target name = "jar" depends = "compile" >
		<jar destfile = "AntLabRun.jar" basedir = "${build}" >
			<manifest>
				<attribute name = "Main-Class" value = "edu.gatech.oad.antlab.pkg1.AntLabMain" />
				<attribute name = "Class-Path" value = "resources.jar" />
			</manifest>
		</jar>
	</target>
	
	<!--
		6. run     - This will start program execution and run the jar
                         file created in the 'jar' task above.  A simple
                         print out with your team name and some computation
                         results should occur if the program runs
                         correctly and you wrote your code correctly.
	-->
	<target name = "run" depends = "jar" >
		<java jar = "AntLabRun.jar" basedir = "${build}" fork = "true" />
	</target>
	
	<!--
		7. all     - This should perform all of the above tasks (but NOT clean).
	-->
	<target name = "all" depends = "init, prepare, compile, javadoc, jar, run" />
	
	<!--
		8. clean   - This will remove any compiled classes and any
                         JARs you created as well as any 
                         javadoc files (i.e. anything that would be created 
                         when the "all" task is run). ****Do NOT remove resources.jar that we provide, or any of your source code***.
	-->
	<target name = "clean" depends = "init">
		<delete dir = "${build}" />
		<delete dir = "${apidoc}" />
	</target>
	
</project>